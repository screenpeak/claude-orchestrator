# Code Review Prompt Template
# Copy and customize the relevant section for your delegation

# -----------------------------------------------------------------------------
# TEMPLATE: PR/Commit Review
# -----------------------------------------------------------------------------
Review the changes in: {{COMMIT_RANGE}}

For each file changed:
1. Summarize the change
2. Note any concerns (bugs, security, performance)
3. Suggest improvements

Provide an overall assessment: APPROVE, REQUEST_CHANGES, or COMMENT.

# -----------------------------------------------------------------------------
# TEMPLATE: Security Audit
# -----------------------------------------------------------------------------
Security review of: {{DIRECTORY}}

Check for:
1. SQL injection vulnerabilities
2. XSS vulnerabilities
3. Missing input validation
4. Hardcoded secrets or credentials
5. Insecure cryptographic practices
6. Authentication/authorization bypasses
7. Path traversal vulnerabilities
8. Insecure deserialization

For each finding:
- Severity: CRITICAL, HIGH, MEDIUM, LOW
- Location: file:line
- Description: What's wrong
- Recommendation: How to fix

# -----------------------------------------------------------------------------
# TEMPLATE: Architecture Review
# -----------------------------------------------------------------------------
Review the architecture of: {{DIRECTORY}}

Analyze:
1. Separation of concerns
2. Dependency direction (are dependencies pointing inward?)
3. Coupling between modules
4. Error handling patterns
5. Testability
6. Scalability considerations

Provide recommendations for improving the structure.

# -----------------------------------------------------------------------------
# TEMPLATE: Performance Review
# -----------------------------------------------------------------------------
Performance review of: {{DIRECTORY}}

Check for:
1. N+1 query patterns
2. Missing database indexes (based on query patterns)
3. Unnecessary data fetching
4. Missing caching opportunities
5. Blocking operations in async code
6. Memory leaks (unclosed resources, growing collections)
7. Inefficient algorithms (O(nÂ²) when O(n) possible)

For each finding, estimate impact and suggest fix.

# -----------------------------------------------------------------------------
# TEMPLATE: Code Quality Review
# -----------------------------------------------------------------------------
Quality review of: {{DIRECTORY}}

Check for:
1. Dead code (unused functions, unreachable branches)
2. Code duplication
3. Overly complex functions (cyclomatic complexity)
4. Missing error handling
5. Inconsistent naming conventions
6. Magic numbers/strings
7. Missing type annotations

Prioritize findings by impact on maintainability.

# -----------------------------------------------------------------------------
# STANDARD RETURN FORMAT
# -----------------------------------------------------------------------------
## Review Summary
Reviewed N files, M lines changed.
Overall: [APPROVE | REQUEST_CHANGES | COMMENT] (brief reason)

## Critical Issues
[List or "None"]

## High Severity
1. **Issue Title** - file:line
   - What's wrong
   - How to fix

## Medium Severity
[List]

## Low Severity / Suggestions
[List]

## Files Reviewed
- path/to/file.ts (status) - N issues

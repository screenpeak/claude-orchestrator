{
  "_comment": "Declarative hook registry. Run scripts/sync-hooks.sh to apply to ~/.claude/settings.json.",
  "entries": [
    { "event": "UserPromptSubmit", "script": "gemini--inject-web-search-hint.sh", "timeout": 5 },
    { "event": "UserPromptSubmit", "script": "codex--inject-hint.sh",              "timeout": 5 },

    { "event": "PreToolUse", "matcher": "Bash",      "script": "security--restrict-bash-network.sh",     "timeout": 5 },
    { "event": "PreToolUse", "matcher": "Bash",      "script": "security--block-destructive-commands.sh","timeout": 5 },
    { "event": "PreToolUse", "matcher": "Read|Bash", "script": "security--guard-sensitive-reads.sh",     "timeout": 5 },
    { "event": "PreToolUse", "matcher": "mcp__codex__codex|mcp__codex__codex-reply|mcp__gemini_web__web_search|mcp__gemini_web__web_fetch|mcp__gemini_web__web_summarize", "script": "codex--log-delegation-start.sh", "timeout": 5 },
    { "event": "PreToolUse", "matcher": "Write", "script": "codex--enforce-code-write.sh", "timeout": 5 },
    { "event": "PreToolUse", "matcher": "Task",  "script": "codex--block-explore.sh",      "timeout": 5 },
    { "event": "PreToolUse", "matcher": "Task",  "script": "codex--block-test-gen.sh",     "timeout": 5 },
    { "event": "PreToolUse", "matcher": "Task",  "script": "codex--block-doc-comments.sh", "timeout": 5 },
    { "event": "PreToolUse", "matcher": "Task",  "script": "codex--block-diff-digest.sh",  "timeout": 5 },

    { "event": "PostToolUse", "matcher": "mcp__codex__codex",                "script": "codex--log-delegation.sh", "timeout": 10 },
    { "event": "PostToolUse", "matcher": "mcp__codex__codex-reply",          "script": "codex--log-delegation.sh", "timeout": 10 },
    { "event": "PostToolUse", "matcher": "mcp__gemini_web__web_search",      "script": "codex--log-delegation.sh", "timeout": 10 },
    { "event": "PostToolUse", "matcher": "mcp__gemini_web__web_fetch",       "script": "codex--log-delegation.sh", "timeout": 10 },
    { "event": "PostToolUse", "matcher": "mcp__gemini_web__web_summarize",   "script": "codex--log-delegation.sh", "timeout": 10 },

    { "event": "Stop", "script": "gemini--require-web-if-recency.sh", "timeout": 10 }
  ]
}
